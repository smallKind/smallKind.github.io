---
layout: post
title: 散列
date: 2015-05-19 14:00:01 +8000
category: 数据结构
tags: 散列
---

* content
{:toc}

>是一种用于以常数的平均时间执行插入，删除和查找的技术

散列（英语：Hashing）是电脑科学中一种对资料的处理方法，通过某种特定的函数/算法（称为散列函数/算法）将要检索的项与用来检索的索引（称为散列，或者散列值）关联起来，生成一种便于搜索的数据结构（称为散列表）。

### 常用的Hash算法

##### 除留余数法

除留余数法的基本思想是：选择某个适当的正整数p，以关键码除以p的余数作为散列地址，即：H（key）= key mod p;

##### 数字分析法

数字分析法根据关键码在各个位上的分布情况，选取分布比较均匀的若干位组成散列地址;

##### 平方取中法

平方取中法是对关键码平方后，按散列表大小，取中间的若干位作为散列地址（平方后截取）;

##### 折叠法

折叠法是将关键码从左到右分割成位数相等的几部分，最后一部分位数可以短些，然后将这几部分叠加求和，并按散列表表长，取后几位最为散列地址。

通常有两种叠加方法：

* 移位叠加：将各部分的最后一位对齐相加
* 间界叠加：从一端向另一端沿各部分分界来回折叠后，最后一位对齐相加

### 解决冲突的办法

如果当一个元素被插入处另外一个元素已经存在(散列值相同)，那么就产生一个冲突，这个冲突需要消除。解决的办法有几种，最简单的两种：分离链接法和开放定址法

##### 分离链接法

分离链接法，其做法是将散列到同一值的所有元素保留到一个表中。

![](/img/dataStructuresAndAlgorithmAnalysis/fenlilianjiefa.png)

[HashMap和Hashtable解决冲突就是用分离链接法](),用数组和链表结合来解决冲突。

分离链接法的缺点是需要指针，由于给新单元分配地址需要时间，因此这就是导致算法的速度多少有些减慢。

##### 开放定址法

开放定址法，如果有冲突发生，那么就尝试选择另外的单元，知道找出空的单元为止。开放定址算法又有以下三种方法：

###### 线性探测法

在线性探测法中，函数F是i的线性函数，典型情况是F(i) = i;这相当于是逐个探测每个单元(必要时刻可以绕回)以查找出一个空单元。

![](/img/dataStructuresAndAlgorithmAnalysis/xianxingtance.png)

###### 平方探测法

平方探测法是消除线性探测中一次聚集问题的冲突解决方法。平方探测就是解决冲突函数为二次函数的探测方法。流行的选择是F(i) = i^2;

![](/img/dataStructuresAndAlgorithmAnalysis/pingfatance.png)

###### 双散列

//TODO:

##### 再散列

对于使用平方探测的开放定址散列法，如果表的元素填的太满，那么操作的运行时间将开始消耗过长，并且Insert操作可能会失败。一种解决方法就是建立另外一个大约两倍大的表(而且使用一个相关的新散列函数)，扫描整个原始散列表，计算每个(未删除)元素的新散列值并插入到新表中

![](/img/dataStructuresAndAlgorithmAnalysis/zaisanlie.png)

参考：

1. [维基百科](https://zh.wikipedia.org/wiki/散列)
2. 《数据结构与算法分析》


